# DB

### 데이터 모델링이란?

* 정보 시스템 구축을 위한 데이터 관점의 업무 분석 기법
* 단지 DB만 구축하는 용도가 아닌 데이터 모델링 자체로서 업무를 설명하고 분석



### 데이터 모델링 3단계

1. 개념적 데이터 모델링(E-R 다이어그램 작성)
2. 논리적 데이터 모델링(Key, 속성, 관계 등을 정확하게 표현)
3. 물리적 데이터 모델링(테이블, 컬럼 등으로 표현되는 물리적인 저장 구조와 사용될 저장 장치, 자료를 추출하기 위해 사용될 접근 방법 등을 결정)



### 데이터베이스의 3단계 구조

1. 외부 스키마

* 각 사용자를 의미하는 개인적 데이터베이스 구조
* 사용자 뷰(view)를 포함해 개인의 논리 데이터 구조로 이루어져 있음



2\. 개념 스키마

* 전체 구조를 추상화하는 단계로 개념 단계에서 하나의 개념 스키마는 범 기관적 입장에서 DB를 정의한 것
* 모든 사용자 관점을 통합한 조직 전체의 DB를 기술하는 것
* DB에 저장되는 데이터와 그들간의 관계를 표현하는 스키마



3\. 내부 스키마

* DB가 물리적으로 저장된 형식
* 물리적 저장 장치의 입장에서 DB가 저장되는 저장 구조와 세부사항, 접근 경로등을 기술



### **Oracle Sequence**

* UNIQUE한 값을 생성해주는 오라클 객체, 시퀀스를 생성하면 PK와 같이 순차적으로 증가하는 컬럼을 자동으로 생성할 수 있음.



### **DBMS란?**

* 데이터베이스 관리 시스템, 다수의 사용자가 데이터베이스 내의 데이터를 접근할 수 있도록 시스템



### &#x20;**DB의 View란? 가상 테이블이란?**

* 허용된 데이터를 제한적으로 보여주기 위해 하나 이상의 테이블에서부터 유도된 가상 테이블&#x20;
* \=> 사용자가 view에 접근했을 때 해당하는 데이터를 원본에서 가져옴.
* 뷰에 나타나지 않은 데이터 보호 가능 + 편의성



### **DB정규화란?**

* 중복을 최대한 줄여 데이터를 구조화하여 불필요한 데이터를 제거
* 데이터를 논리적으로 저장함으로써이상 현상이 일어나지 않도록 하는 것



### **트리거란?**

* 자동으로 실행되도록 정의된 저장 프로시저.&#x20;
* INSERT / UPDATE/ DELETE문에 대한 응답으로 자동 호출&#x20;
* 사용 이유 : 업무 규칙을 보장, 업무 처리 자동화, 데이터 무결성 강화 (변경, 생성, 제거, 복구를 통해)



### **DB 무결성이란?**

* (개체) 테이블에있는 모든 행들이 유일한 식별자를 가질 것을 요구. 같은 값X&#x20;
* (참조) 외래키 값은 NULL이거나 참조테이블의 PK값이여함&#x20;
* (영역) 한 컬럼에 대해 NULL허용 여부와 자료형, 규칙으로 타당한 데이터 값을 지정



### **DATA WAREHOUSE란?**

* 사용자 의사결정에 도움을 주기 위해 DB에 축적된 데이터를 공통의 형식으로 변환하여 관리하는 DB\


### 인덱스란?

* 인덱스란 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조
* (장점) 테이블을 조회하는 속도와 그에 따른 성능을 향상
* (단점) 삽입, 삭제, 수정이 자주 일어나면 정렬도 자주 발생하므로 메모리 낭비 및 속도 저하
* (자료 구조 종류) 해쉬테이블/밸런스드 트리(B-Tree, B+-Tree) \


### 해쉬테이블, B-Tree, B+-Tree란?

*   해쉬테이블

    * Key값을 이용해 고유한 index를 생성하여 그 index에 저장된 값을 꺼내오는 구조
    * 시간복잡도는 O(1)
    * 등호(=) 연산에만 특화 / 부등호 연산(>, <) 사용X


*   B-Tree

    * 모든 노드에 데이터(Value)를 저장


* B+-Tree
  * 리프노드(데이터노드)만 인덱스와 함께 데이터(Value)를 가지고 있고, 나머지 노드(인덱스노드)들은 데이터를 위한 인덱스(Key)만 가짐
  * 시간복잡도는 O($$log2n$$)\


### 반정규화

* 정규화된 엔터티, 속성, 관계 → 시스템의 성능 향상과 개발, 운영의 단순화를 위해
* 중복, 통합, 분리 등을 수행하는 데이터 모델링의 기법을 의미



### SQL쿼리 실행 순서   &#x20;

FROM -> WHERE -> GROUP BY -> HAVING -> SELECT -> ORDER BY



### 트랜잭션이란?

* 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위
* 한꺼번에 모두 수행되어야 할 일련의 연산들을 의미



### 트랜잭션의 성질

1. **Atomicity(원자성)**

* 트랜잭션의 연산은 DB에 모두 반영되든지 아니면 전혀 반영되지 않아야 함
* 트랜잭션 내의 모든 명령은 반드시 완벽히 수행되어야 하며, 모두가 완벽히 수행되지 않고 어느 하나라도 오류가 발생하면 트랜잭션 전부가 취소 되어야 함



2\. **Consistency(일관성)**

* 트랜잭션이 그 실행을 성공적으로 완료하면 언제나 일관성 있는 데이터베이스 상태로 변환함
* 시스템이 가지고 있는 고정요소는 트랜잭션 수행 전과 트랜잭션 수행 완류 후의 상태가 같아야 함



3\. **Isolation(독립성, 격리성)**

* 둘 이상의 트랜잭션이 동시에 병행 실행되는 경우 어느 하나의 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없음
* 수행중인 트랜잭션은 완전히 완료될 때까지 다른 트랜잭션에서 수행 결과를 참조할 수 없음



4\. **Durablility(영속성, 지속성)**

* 성공적으로 완료된 트랜잭션의 결과는 시스템이 고장나더라도 영구적으로 반영되어야 함



### **DB설계 시 가장 중요한 것은?**

* 무결성을 보장하는 것&#x20;
* 무결성 보장 방법은?&#x20;
  * (애플리케이션) 데이터를 조작하는 프로그램 내에서 데이터 생성, 수정, 삭제 시 무결성 조건 검증&#x20;
  * (DB트리거) 트리거 이벤트 시 저장 SQL실행, 무결성 조건 실행&#x20;
  * (제약조건) DB제약조건 기능 선언하여 무결성 유지\


### **JDBC / ODBC 차이**

* Java Database Connectivity(JDBC)
  * java에서 DB에 접근하여 (작업) 데이터를 조회/삽입/수정/삭제 가능
  * 연결해주는 응용프로그램 인터페이스인 JAVA API. DBMS 종류에 따라 그에 맞는 jdbc를 설치해야함.



* Open Database Connectivity(ODBC)
  * 응용프로그램에서 DB 접근을 위한 표준 개방형 응용 프로그램 인터페이스.&#x20;
  * MS사에서 만들어진 것, DB2/Excel/Text 등 여러 종류의 데이터에 접근할 수 있다.



**오라클과 MySQL의 차이는?**

*   Oracle

    * 대규모 트랜잭션로드를 처리하고 성능을 최적화하기위해 여러 서버에 대용량 DB분산
    * 절차적 언어를 통해 DB내 내장된 프로그램의 작성을 지원함.&#x20;
    * (독립실행, 특정 이벤트 의해 트리거)


* MySQL
  * 단일 DB로 제한되어있어, 매일 수백만번 액세스하는 대용량 DB에는 부적합&#x20;
  * DB를 이전상태로 복원하는데 도움이되는 저장점이 없음&#x20;
  * (COMMIT, ROLLBACK만 존재)

![](<../.gitbook/assets/image (17).png>)
